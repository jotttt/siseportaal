<style>
    .onoffswitch { width: 80px; }
    .onoffswitch-switch { width: 30px; right: 50px; }
    .onoffswitch-inner:before { text-transform: uppercase; content: "$txt_is$"; }
    .onoffswitch-inner:after { text-transform: uppercase; content: "$txt_not$"; }
</style>

<form method="post" id="request" action="$request_uri$" data-before="on_request_add" class="ajax-form form-horizontal" role="form">
    <input type="hidden" name="commit_request" value="$request_id$">
    <input type="hidden" name="domain" value="$request_domain$">

    <div class="col-md-6">
        <div class="form-group">
            <label for="shortcuts" class="control-label col-xs-2">$txt_domain$:</label>

            <div class="col-md-8 selectable-badges">
                <ul style="width: 500px">
                    $fn_list_domain$
                    <li $active_domain$><a href="$request_uri$/$sess_id$/ou:$oucode$" title="$domain_name$" class="ajax-load">$domain_name$</a></li>
                    $fn_stop$
                </ul>
            </div>
        </div>

        <p class="padding"></p>

        <div class="form-group">
            <label for="service" class="control-label col-xs-2">$subject$:$req_subject$</label>
            <div class="col-xs-10">
                <select name="service" id="service" tabindex="2" class="form-control" style="width:500px">
                    <option value="" data-solve="0" data-solve-critical="0" data-critical="0">$txt_default_select$</option>
                    $fn_list_services$
                    <option value="$id$:$type_id$" data-solve="$solve$" data-solve-critical="$solve_critical$" data-critical="$default_critical$">$seqno$. $descr$</option>
                    $fn_stop$
                </select>
                <span id="req_service" class="req"><i class="fa fa-exclamation-circle"></i> $txt_req_service$</span>
            </div>
        </div>

        <p class="padding"></p>

        <div class="form-group" id="service_specify"$hide_service_specify$>
            <label for="subject" class="control-label col-xs-2">$txt_specify$:$req_specify$</label>
            <div class="col-xs-10">
                <input type="text" name="subject" id="subject" class="form-control" style="width: 500px">
                <span id="req_subject" class="req"><i class="fa fa-exclamation-circle"></i> $txt_req_subject$</span>
            </div>
        </div>

        <p class="padding"></p>

        <div class="form-group"$hide_problem_location$>
            <label for="problem_location" class="control-label col-xs-2">$txt_problem_location$:$req_location$</label>
            <div class="col-xs-10">
                <input type="hidden" name="room_id" id="room_id" value="">
                <input type="text" name="problem_location" id="problem_location" class="form-control" autocomplete="off" style="width: 500px">
                <span id="req_problem_location" class="req"><i class="fa fa-exclamation-circle"></i> $txt_req_location$</span>
                <div id="choose_problem_location" style="display: none"></div>
            </div>
        </div>

        <p class="padding"></p>

        <div class="form-group"$hide_prio$>
            <label for="prio" class="control-label col-xs-2">$txt_request_prio$: </label>
            <div class="col-xs-10">
                <!--<input type="checkbox" name="prio" value=1$prio_high$> $txt_critical$-->
                <div class="switch" style="float: left">
                    <div class="onoffswitch">
                        <input type="checkbox" id="prio" name="prio" class="onoffswitch-checkbox" value=1$prio_high$>
                        <label class="onoffswitch-label" for="prio">
                            <span class="onoffswitch-inner"/>
                            <span class="onoffswitch-switch"/>
                        </label>
                    </div>
                </div>
                <span style="float: left">&nbsp;$txt_critical$</span>
            </div>
        </div>

        <p class="padding"></p>

        <div class="form-group"$hide_duedate$>
            <label for="duedate" class="control-label col-xs-2">$txt_duedate$: </label>
            <div class="col-xs-10">
                <input name="duedate" id="duedate" tabindex="4" type="text" value="$duedate$" class="datepicker form-control" size="small" style="width: 100px">
            </div>
        </div>

        <p class="padding"></p>

        <div class="form-group">
            <label for="details" class="control-label col-xs-2">$txt_specifications$:$req_details$</label>
            <div class="col-xs-10">
                <textarea name="details" id="details" class="form-control" style="width: 500px; height: 100px" rows=8 tabindex="2" maxlength="8192" placeholder="$txt_request_details_title$"></textarea>
                <span id="req_details" class="req"><i class="fa fa-exclamation-circle"></i> $txt_req_details$</span>
            </div>
        </div>

        <br/>
        <p class="padding"></p>

        <div class="form-group">
            <label for="submit" class="control-label col-xs-2"></label>

            <div class="col-xs-5">
                <button type="submit" class="btn btn-primary pull-left" tabindex="1">$txt_save_and_commit$</button>
                <!--<a href="#$focus$" class="ajax-load btn btn-warning">$txt_cancel$</a>-->
            </div>
        </div>

        <p class="padding"></p>

        <div class="form-group">
            <label for="submit" class="control-label col-xs-2">$txt_files$:</label>
            <div class="col-xs-10">
                <div class="uploaded-files" style="position: relative; left: 0px; height: 100%;" data-parent="$request_id$"></div>
                <br/>
                <div class="dropzone" style="position: relative; width: 500px; border: 1px solid #ccc">
                    <div class="dropzone-previews">
                        <div class="dz-message"><span data-dz-message>$txt_file_upload_msg$</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!--
        <div class="form-group">
            <div class="col-xs-12">
                <label for="shortcuts" class="control-label"> $txt_shortcuts$:</label>
                $fn_list_request_shortcut$
                <li class="small"><a href="$request_uri$/sc:$id$" title="$descr$" class="ajax-load tip-right">$name$</a></li>
                $fn_stop$
            </div>
        </div>
        -->
    </div>
</form>

<div class="modal fade" id="request_modal" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="$txt_dismiss$"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="request_modal_title">$txt_error$</h4>
      </div>
      <div class="modal-body">
          <i class="fa fa-exclamation-circle"></i> $txt_request_requirements$
      </div>
      <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">$txt_dismiss$</button>
      </div>
    </div>
  </div>
</div>
